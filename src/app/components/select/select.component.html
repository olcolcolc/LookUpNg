<div class="selectWrapper" appClickOutside (clickedOutside)="closeMenus()">
<div class="selectContainer">
  <div class="selectContainer__ups">
    <!-- ORIGIN -->
    <div  type="button" class="selectContainer__origin">
      <!-- Button for selecting origin -->
      <button class="selectContainer__originBtn" (click)="toggleOriginMenu()">
        <fa-icon [icon]="originIcon"></fa-icon>
        {{ selectedOrigin ? selectedOrigin : 'Origin' }}
      </button>

      <!-- Submenu for selecting origin -->
      <div class="selectContainer__origin__submenu" *ngIf="isOriginMenuOpen" [@submenuAnimation]="'slide'">
        <ul *ngIf="destinations" >
          <li class="option" *ngFor="let destination of availableOrigins" (click)="onOriginItemClick(destination)">
            {{ destination.desc }}
          </li>
        </ul>
      </div>
    </div>

    <!-- DATE BUTTON AND SUBMENU -->
    <div type="button" class="selectContainer__dateBtn">
      <!-- Date button and datepicker submenu -->
      <mat-form-field class="example-full-width" [@submenuAnimation]="'slide'">
        <mat-label>Date</mat-label>
        <input
          matInput
          [matDatepicker]="picker"
          [min]="minDate"
          placeholder="Date"
          [(ngModel)]="selectedDate"
        />
        <mat-datepicker-toggle matIconSuffix class="dateIcon" [for]="picker">
        </mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker> </mat-form-field
      >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ selectedDate ? selectedDate.toLocaleDateString() : 'Date' }}
    </div>

    <!-- DESTINATION -->
    <div class="selectContainer__destination">
      <!-- Button for selecting destination -->
      <button
        class="selectContainer__destinationBtn"
        (click)="toggleDestinationMenu()"
      >
        <fa-icon [icon]="destinationIcon"></fa-icon>
        {{ selectedDestination ? selectedDestination : 'Destination' }}
      </button>

      <!-- Submenu for selecting destination -->
      <div
        class="selectContainer__destination__submenu"
        *ngIf="isDestinationMenuOpen"
        [@submenuAnimation]="'slide'"
      >
        <ul *ngIf="destinations">
          <li class="option" *ngFor="let destination of availableDestinations" (click)="onDestinationItemClick(destination)">
            {{ destination.desc }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="selectContainer__downs">
    <!-- PASSENGERS -->
    <div class="selectContainer__passengers">
      <!-- Button for selecting passengers -->
      <button  type="button" class="selectContainer__passengersBtn" (click)="togglePassengerMenu()">
        <fa-icon [icon]="passengersIcon"></fa-icon>
        {{ passengerCount ? passengerCount : "Passengers" }}
      </button>

      <!-- Submenu for selecting passengers -->
      <div class="selectContainer__passengers__submenu" *ngIf="isPassengerMenuOpen" [@submenuAnimation]="'slide'">

        <div class="selectContainer__passengers__submenu_inputs">

          <div class="selectContainer__passengers__submenu_div">
            <div class="selectContainer__passengers__submenu_div__left">
              <div
                class="selectContainer__passengers__submenu_div__left__title"
              >
                Adult
              </div>
              <div class="selectContainer__passengers__submenu_div__left__desc">
                >16 years old
              </div>
            </div>
            <div class="selectContainer__passengers__submenu_div__right">
              <select class="selectContainer__passengers__submenu_div__adults" [(ngModel)]="selectedOption_adult">
                <option *ngFor="let option of passengerOptions" [value]="option">{{ option }}</option>
              </select>
            </div>
          </div>

          <div class="selectContainer__passengers__submenu_div">
            <div class="selectContainer__passengers__submenu_div__left">
              <div
                class="selectContainer__passengers__submenu_div__left__title"
              >
                Children
              </div>
              <div class="selectContainer__passengers__submenu_div__left__desc">
                1-16 years old
              </div>
            </div>
            <div class="selectContainer__passengers__submenu_div__right">
              <select class="selectContainer__passengers__submenu_div__children" [(ngModel)]="selectedOption_children">
                <option *ngFor="let option of passengerOptions" [value]="option">{{ option }}</option>
              </select>
            </div>
          </div>

          <div class="selectContainer__passengers__submenu_div">
            <div class="selectContainer__passengers__submenu_div__left">
              <div
                class="selectContainer__passengers__submenu_div__left__title"
              >
                Babies
              </div>
              <div class="selectContainer__passengers__submenu_div__left__desc">
                less then 1 year old
              </div>
            </div>
            <div class="selectContainer__passengers__submenu_div__right">
              <select class="selectContainer__passengers__submenu_div__babies" [(ngModel)]="selectedOption_babies">
                <option *ngFor="let option of passengerOptions" [value]="option">{{ option }}</option>
              </select>

            </div>
          </div>
        </div>
        <button type="button" class="selectContainer__passengers__submenu__acceptBtn" (click)="onAcceptPassengerSelection()">
          Accept
        </button>
        <div class="selectContainer__passengers__submenu__note">
          <fa-icon [icon]="infoIcon"></fa-icon>
          <p>Note</p>
        </div>
        <div class="selectContainer__passengers__submenu__count">
          <p>You can choose 8 more passengers</p>
          <p>Babies travel free of charge</p>
        </div>
      </div>
    </div>

    <!-- LUGGAGE -->
    <div class="selectContainer__luggage">
      <!-- Button for selecting luggage -->
      <button  type="button" class="selectContainer__luggageBtn" (click)="toggleLuggageMenu()">
        <fa-icon [icon]="luggageIcon"></fa-icon>
        {{selectedLuggageOption ? selectedLuggageOption : "Luggage"}}
      </button>
      <!-- Submenu for selecting luggage -->
      <div class="selectContainer__luggage__submenu" *ngIf="isLuggageMenuOpen" [@submenuAnimation]="'slide'">
        <ul>
          <li class="option" *ngFor="let luggageOption of luggageOptions" (click)="onLuggageItemClick(luggageOption)">
            {{luggageOption}}</li>
        </ul>
      </div>

    </div>

    <!-- SELECT -->
    <button type="button" class="selectContainer__submit" (click)="onSubmit()">Submit</button>
  </div>

</div>

